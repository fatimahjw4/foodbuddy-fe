<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dashboard Admin - FoodBuddy</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/style.css">
</head>

<body class="admin-page flex min-h-screen bg-gray-100">
  <!-- Sidebar -->
  <aside class="sidebar w-72 text-white flex flex-col">
    <div class="p-6 text-center font-bold text-2xl border-b border-green-700">
      <span class="text-4xl mb-2">ğŸ¥—</span>
      <div>FoodBuddy</div>
    </div>

    <nav class="flex-1 mt-6">
      <a href="#" class="flex items-center px-6 py-3 bg-green-700 rounded transition-colors active">
        <i class='bx bx-grid-alt mr-3 text-xl'></i> Dashboard
      </a>

      <a href="/kelola" class="flex items-center px-6 py-3 hover:bg-green-700 rounded transition-colors">
        <i class='bx bx-data mr-3 text-xl'></i> Kelola Data Makanan
      </a>

      <a href="#" id="logoutBtn" class="flex items-center px-6 py-3 hover:bg-green-700 rounded transition-colors">
        <i class='bx bx-log-out mr-3 text-lg'></i> Logout
      </a>
    </nav>

    <div class="p-6 border-t border-green-700 mt-auto text-center text-sm text-green-200">
      Â© 2025 FoodBuddy
    </div>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 p-8">

    <!-- Header -->
    <div class="flex justify-between items-center mb-8 bg-white p-6 rounded-2xl shadow-sm">
      <div>
        <h1 class="text-3xl font-bold text-gray-800" id="greeting">Selamat Datang ğŸ‘‹</h1>
        <p class="text-gray-500 mt-2">
           Dashboard monitoring sistem rekomendasi makanan berbasis KNN.
        </p>
      </div>

      <div class="flex items-center space-x-4">
        <div class="text-right">
          <p class="text-gray-800 font-semibold leading-tight" id="username"></p>
          <p class="text-sm text-gray-500">Admin Panel</p>
        </div>

        <a href="/profile">
          <img id="profile-pic" src="" style="opacity:0;"
            class="w-12 h-12 rounded-full border-2 border-green-500 object-cover object-center bg-white hover:opacity-80 transition shadow-sm">
        </a>
      </div>
    </div>

    <!-- Dashboard Cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8" id="cards-container">

      <!-- Dataset Makanan -->
      <div class="bg-white p-6 rounded-2xl shadow-md hover:shadow-lg transition flex items-center justify-between">
        <div>
          <p class="text-sm text-gray-500">Dataset Makanan</p>
          <h2 class="text-3xl font-bold text-green-600" id="total-makanan">--</h2>
          <span class="inline-block mt-2 text-xs bg-green-100 text-green-700 px-3 py-1 rounded-full">
            ğŸ¥— Data Siap Dipakai
          </span>
        </div>
        <div class="w-14 h-14 flex items-center justify-center bg-green-100 rounded-full">
          <i class='bx bx-dish text-3xl text-green-600'></i>
        </div>
      </div>

      <!-- Kategori Aktif -->
      <div class="bg-white p-6 rounded-2xl shadow-md hover:shadow-lg transition flex items-center justify-between">
        <div>
          <p class="text-sm text-gray-500">Kategori Aktif</p>
          <h2 class="text-3xl font-bold text-orange-500" id="total-kategori">--</h2>
          <span class="inline-block mt-2 text-xs bg-orange-100 text-orange-600 px-3 py-1 rounded-full">
            ğŸ“‚ Tersusun Rapi
          </span>
        </div>
        <div class="w-14 h-14 flex items-center justify-center bg-orange-100 rounded-full">
          <i class='bx bx-category text-3xl text-orange-500'></i>
        </div>
      </div>

      <!-- Status Model -->
      <div class="bg-white p-6 rounded-2xl shadow-md hover:shadow-lg transition flex items-center justify-between">
        <div>
          <p class="text-sm text-gray-500">Status Model</p>
          <h2 class="text-2xl font-bold text-blue-600" id="model-status">KNN Ready</h2>
          <span class="inline-block mt-2 text-xs bg-blue-100 text-blue-600 px-3 py-1 rounded-full">
            ğŸ¤– ML Aktif
          </span>
        </div>
        <div class="w-14 h-14 flex items-center justify-center bg-blue-100 rounded-full">
          <i class='bx bx-brain text-3xl text-blue-600'></i>
        </div>
      </div>
    </div>

    <!-- Top Foods & Tren User -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <!-- Top Foods -->
      <div class="bg-white p-6 rounded-xl shadow-md">
        <h3 class="text-xl font-semibold mb-4 text-gray-800">ğŸ´ Makanan Paling Sering Direkomendasikan</h3>
        <ul id="top-foods" class="divide-y divide-gray-100 text-gray-700">
          <!-- JS inject list item -->
        </ul>
      </div>

      <!-- Tren User -->
      <div class="bg-white p-6 rounded-xl shadow-md flex flex-col items-center justify-center">
        <h3 class="text-xl font-semibold mb-4 text-gray-800">Tren User</h3>
        <div class="w-full h-64 relative flex items-center justify-center">
          <canvas id="user-trend-chart" class="w-full h-full"></canvas>
        </div>
      </div>
    </div>

    <!-- Aktivitas Terbaru -->
    <div class="bg-white p-6 rounded-xl shadow-md mt-8">
      <h3 class="text-xl font-semibold mb-4 text-gray-800">Aktivitas Terbaru</h3>
      <ul id="recent-activity" class="divide-y divide-gray-100 text-gray-700 max-h-96 overflow-y-auto">
        <!-- JS inject list item -->
      </ul>
    </div>
  </main>

  <!-- JS Dashboard -->
  <script src="/js/dashboard.js"></script>

</body>
</html>
